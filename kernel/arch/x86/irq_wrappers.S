###
# @brief Assembly handlers for IRQs generated by the PIC.
###

.macro irq_handler_macro irq

.global irq_\irq
irq_\irq:
	pusha
	pushl %gs              # push all data segment registers
	pushl %fs
	pushl %es
	pushl %ds
	pushl $\irq            # push the irq number
	call interrupt_request # call the central handler
	addl $4, %esp          # pop the irq number
	popl %ds               # pop the data segment registers off the stack
	popl %es
	popl %fs
	popl %gs
	popa
	iret

.endm

irq_handler_macro 0
irq_handler_macro 1
irq_handler_macro 2
irq_handler_macro 3
irq_handler_macro 4
irq_handler_macro 5
irq_handler_macro 6
irq_handler_macro 7
irq_handler_macro 8
irq_handler_macro 9
irq_handler_macro 10
irq_handler_macro 11
irq_handler_macro 12
irq_handler_macro 13
irq_handler_macro 14
irq_handler_macro 15
